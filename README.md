# 星佳的数字导师与数字分身系统 (Open Source Edition)

这是一个基于本地知识库（RAG）和多模态大模型的“个人数字生态”全能平台。通过摄入你自己的文章/日记/研究笔记，系统能完美复活你的思想脉络，并为你提供全天候的虚拟导师、自动推特生成分发、以及强大的知识图谱提取功能。

## 🎯 核心功能
1. **AI Mentor (灵魂导师)**: 随时找它倾诉困惑，它不仅会回答，还会巧妙地引用你自己过去写过的金句和段落开导你。
2. **AI Writer (替身写作)**: 完全模仿“你的笔触”瞬间出稿千字长文。
3. **Knowledge Graph (思想图谱)**: 自动将你过去的思想脉络可视化为高清思维导图。
4. **Twitter Agent (全自动推文分发机)**: 定时从你的潜意识碎片库里随机翻找珍珠，重写为极具穿透力的美式推文，并自动发布在 X (Twitter) 上。
5. **Feishu Bot (智能飞书主编)**: 每天定点给你个人的飞书推送你的历史认知金句，或是自动汇编播报当日 RSS 新闻。

## 🚀 快速上手部署

### 1. 环境准备
确保你的电脑或服务器上已经安装了 **Python 3.10+**。

克隆本仓库到本地后，在终端执行以下命令安装依赖项：
```bash
pip install -r requirements.txt
```

### 2. 获取并配置 API 密钥 (必读！)
系统运行依赖于一些第三方大语言模型和平台的 API。我们在代码中已经做好了彻底的解耦。

在项目根目录下找到 `.env.example` 文件，**将其复制并重命名为 `.env`**，然后填入以下密钥：

- **GOOGLE_API_KEY**: (核心大脑) 
  - **去哪买/申请**：前往 [Google AI Studio](https://aistudio.google.com/)，登录谷歌账号后可免费获取（需科学上网环境，且支持极大的免费额度）。
  - **作用**：驱动 Gemini 系列模型进行文本理解、推理和绘画翻译等工作。
- **GCP_PROJECT_ID** 及 **GCP_LOCATION**: (可选) 如果你使用 GCP 的企业版 Vertex AI，则需填写。
- **APP_PASSWORD**:
  - **作用**：自己设置一个密码，用于拦截别人非法访问你的本地网页控制台。
- **FEISHU_APP_ID** / **FEISHU_APP_SECRET**: (若使用飞书特工)
  - **获取方式**：前往 [飞书开放平台](https://open.feishu.cn/)，创建一个企业自建应用，即可获得这俩个凭据，记得开通机器人权限。
- **推特 API 密钥** (`TWITTER_API_KEY` 等四项): (若使用推特分发机)
  - **获取方式**：前往 [Twitter Developer Portal](https://developer.twitter.com/)，注册开发者账号并创建一个 App 即可获得这四个 Token。

### 3. 构建你在数字世界的语料大脑 (RAG Ingestion)
1. 将你的所有历史文章（`.txt`, `.md` 格式）放入 `gongzhonghao` 或 `公众号` 文件夹。项目中我已经留了一批示例文件供参考学习。
2. 在终端运行清洗和特征提取脚本：
```bash
python rag_ingest.py
```
> 这个过程会将文本切割、向量化，并永久储存在你本地自动生成的 `chroma_db` 文件夹中。未来只要更新了新文章，重复运行上面这段代码即可增量更新大脑。

### 4. 启动可视化控制端 Web UI
准备就绪！输入：
```bash
streamlit run web_ui.py
```
然后在浏览器中打开提示的 URL（通常是 `http://localhost:8501`），输入你设置的 `APP_PASSWORD`，即可纵享自己的私人数字生态！

## ⚠️ 开源声明与安全提醒
本项目遵循 MIT 或相关开源协议。
**绝对、绝对、绝对不要将带有你的真实密钥的 `.env` 文件推送到任何公开的 GitHub 仓库中！** 本仓库已经自带了严密的 `.gitignore` 防御，请在二次开发时不要修改它的防线。

*Powered by Google Gemini & LangChain Chroma*
